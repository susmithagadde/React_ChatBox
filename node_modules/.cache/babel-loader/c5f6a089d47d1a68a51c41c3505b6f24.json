{"ast":null,"code":"var _jsxFileName = \"D:\\\\login\\\\src\\\\components\\\\home.jsx\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./home.css\";\nimport { PostData } from \"../postdata\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      sessionStorage.setItem(\"formData\", \"\");\n      sessionStorage.clear();\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.onchat = () => {\n      //this.setState({ chatbox: true });\n      const name = this.props.location.state[0].name;\n      var userData = new FormData();\n      userData.append(\"name\", name);\n      PostData(userData, \"/home\").then(result => {\n        let responseJson = result;\n        var data12 = responseJson.data;\n        const data = [...this.state.userdetails, data12];\n\n        if (responseJson.status === \"success\") {\n          this.setState({\n            userdetails: data\n          });\n        }\n\n        console.log(this.state.userdetails);\n      });\n    };\n\n    this.onChange = event => {\n      /* var file = event.target.files;\r\n      console.log(file); */\n      const file = this.refs.uploadImg.files[0];\n      console.log(file);\n      const reader = new FileReader();\n      console.log(this.state.file);\n\n      reader.onloadend = () => {\n        this.setState({\n          imageUrl: reader.result\n        });\n      };\n\n      if (file) {\n        const b = file.name;\n        console.log(b);\n        this.setState({\n          file: b\n        });\n        reader.readAsDataURL(file);\n        this.setState({\n          imageUrl: reader.result\n        });\n      } else {\n        this.setState({\n          imageUrl: \"\"\n        });\n      } //console.log(this.state.imageUrl);\n\n\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      console.log(this.state);\n    };\n\n    this.onSave = () => {\n      console.log(this.state);\n      var saveData = new FormData();\n      saveData.append(\"image_url\", this.state.file);\n      saveData.append(\"phone\", this.state.phone);\n      saveData.append(\"address\", this.state.address);\n      saveData.append(\"email\", this.props.location.state[0].email);\n      PostData(saveData, \"/save\").then(result => {\n        let resultJSON = result;\n        console.log(resultJSON);\n\n        if (resultJSON.status === \"success\") {\n          console.log(this.state.SuccessMsg);\n          this.setState({\n            SuccessMsg: true\n          });\n          console.log(this.state.SuccessMsg);\n        }\n      });\n    };\n\n    this.state = {\n      redirect: false,\n      chatbox: false,\n      userdetails: [],\n      file: \"\",\n      imageUrl: null,\n      SuccessMsg: false\n    };\n  }\n\n  componentWillMount() {\n    if (sessionStorage.getItem(\"formData\")) {\n      console.log(\"call user feed\");\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  render() {\n    //console.log(this.props.location.state[0].name);\n    console.log(this.state.SuccessMsg);\n\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: \"/signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"logout\",\n      type: \"button\",\n      className: \"btn btn-warning btn-sm\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Logout\"), this.state.SuccessMsg ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      className: \"checkmark\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 52 52\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"circle\", {\n      className: \"checkmark__circle\",\n      cx: \"26\",\n      cy: \"26\",\n      r: \"25\",\n      fill: \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"path\", {\n      className: \"checkmark__check\",\n      fill: \"none\",\n      d: \"M14.1 27.2l7.1 7.2 16.7-16.8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"success_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Your Profile has been Updated Successfully\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"welcome \", this.props.location.state[0].name, \"!!\")), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"full-width bg-transparent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-6 col-lg-offset-3 col-md-7 col-md-offset-3 col-xs-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"full-width\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"custom-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"img-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.imageUrl ? React.createElement(\"img\", {\n      src: this.state.imageUrl,\n      className: \"imgCircle\",\n      alt: \"Profile picture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: \"http://lorempixel.com/200/200/nature/\",\n      className: \"imgCircle\",\n      alt: \"Profile picture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), \" Edit Profile\"), React.createElement(\"div\", {\n      className: \"image-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"file-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ion-android-camera icon upload-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      id: \"file-input\",\n      type: \"file\",\n      accept: \"image/*\",\n      ref: \"uploadImg\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-input\",\n      value: this.props.location.state[0].name,\n      placeholder: \"Name\",\n      disabled: true,\n      id: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-user input-place\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-input\",\n      value: this.props.location.state[0].email,\n      placeholder: \"Email ID\",\n      disabled: true,\n      id: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-envelope input-place\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-input\",\n      placeholder: \"Phone Number\",\n      name: \"phone\",\n      onChange: this.onChange,\n      id: \"phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-earphone input-place\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-input\",\n      placeholder: \"Address\",\n      name: \"address\",\n      onChange: this.onChange,\n      id: \"place\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-map-marker input-place\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info btn-lg custom-btn\",\n      id: \"submit\",\n      onClick: this.onSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Save\"))))))))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["D:\\login\\src\\components\\home.jsx"],"names":["React","Component","Redirect","PostData","Home","constructor","props","logout","sessionStorage","setItem","clear","setState","redirect","onchat","name","location","state","userData","FormData","append","then","result","responseJson","data12","data","userdetails","status","console","log","onChange","event","file","refs","uploadImg","files","reader","FileReader","onloadend","imageUrl","b","readAsDataURL","target","value","onSave","saveData","phone","address","email","resultJSON","SuccessMsg","chatbox","componentWillMount","getItem","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./home.css\";\r\nimport { PostData } from \"../postdata\";\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirect: false,\r\n      chatbox: false,\r\n      userdetails: [],\r\n      file: \"\",\r\n      imageUrl: null,\r\n      SuccessMsg: false\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (sessionStorage.getItem(\"formData\")) {\r\n      console.log(\"call user feed\");\r\n    } else {\r\n      this.setState({ redirect: true });\r\n    }\r\n  }\r\n\r\n  logout = () => {\r\n    sessionStorage.setItem(\"formData\", \"\");\r\n    sessionStorage.clear();\r\n    this.setState({ redirect: true });\r\n  };\r\n\r\n  onchat = () => {\r\n    //this.setState({ chatbox: true });\r\n    const name = this.props.location.state[0].name;\r\n    var userData = new FormData();\r\n    userData.append(\"name\", name);\r\n    PostData(userData, \"/home\").then(result => {\r\n      let responseJson = result;\r\n\r\n      var data12 = responseJson.data;\r\n      const data = [...this.state.userdetails, data12];\r\n      if (responseJson.status === \"success\") {\r\n        this.setState({ userdetails: data });\r\n      }\r\n      console.log(this.state.userdetails);\r\n    });\r\n  };\r\n\r\n  onChange = event => {\r\n    /* var file = event.target.files;\r\n    console.log(file); */\r\n\r\n    const file = this.refs.uploadImg.files[0];\r\n    console.log(file);\r\n\r\n    const reader = new FileReader();\r\n    console.log(this.state.file);\r\n    reader.onloadend = () => {\r\n      this.setState({\r\n        imageUrl: reader.result\r\n      });\r\n    };\r\n    if (file) {\r\n      const b = file.name;\r\n      console.log(b);\r\n      this.setState({ file: b });\r\n      reader.readAsDataURL(file);\r\n      this.setState({\r\n        imageUrl: reader.result\r\n      });\r\n    } else {\r\n      this.setState({\r\n        imageUrl: \"\"\r\n      });\r\n    }\r\n    //console.log(this.state.imageUrl);\r\n    this.setState({ [event.target.name]: event.target.value });\r\n\r\n    console.log(this.state);\r\n  };\r\n\r\n  onSave = () => {\r\n    console.log(this.state);\r\n    var saveData = new FormData();\r\n    saveData.append(\"image_url\", this.state.file);\r\n    saveData.append(\"phone\", this.state.phone);\r\n    saveData.append(\"address\", this.state.address);\r\n    saveData.append(\"email\", this.props.location.state[0].email);\r\n    PostData(saveData, \"/save\").then(result => {\r\n      let resultJSON = result;\r\n      console.log(resultJSON);\r\n      if (resultJSON.status === \"success\") {\r\n        console.log(this.state.SuccessMsg);\r\n        this.setState({ SuccessMsg: true });\r\n        console.log(this.state.SuccessMsg);\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    //console.log(this.props.location.state[0].name);\r\n    console.log(this.state.SuccessMsg);\r\n    if (this.state.redirect) {\r\n      return <Redirect to={\"/signin\"} />;\r\n    }\r\n    return (\r\n      <header>\r\n        <button\r\n          id=\"logout\"\r\n          type=\"button\"\r\n          className=\"btn btn-warning btn-sm\"\r\n          onClick={this.logout}\r\n        >\r\n          Logout\r\n        </button>\r\n\r\n        {this.state.SuccessMsg ? (\r\n          <div>\r\n            <svg\r\n              className=\"checkmark\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 52 52\"\r\n            >\r\n              <circle\r\n                className=\"checkmark__circle\"\r\n                cx=\"26\"\r\n                cy=\"26\"\r\n                r=\"25\"\r\n                fill=\"none\"\r\n              />\r\n              <path\r\n                className=\"checkmark__check\"\r\n                fill=\"none\"\r\n                d=\"M14.1 27.2l7.1 7.2 16.7-16.8\"\r\n              />\r\n            </svg>\r\n            <div className=\"success_msg\">\r\n              Your Profile has been Updated Successfully\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <div className=\"title\">\r\n              <span>welcome {this.props.location.state[0].name}!!</span>\r\n            </div>\r\n\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"full-width bg-transparent\">\r\n                  <div className=\"col-lg-6 col-lg-offset-3 col-md-7 col-md-offset-3 col-xs-4\">\r\n                    <div className=\"full-width\">\r\n                      <div className=\"custom-form\">\r\n                        <div className=\"img-section\">\r\n                          {this.state.imageUrl ? (\r\n                            <img\r\n                              src={this.state.imageUrl}\r\n                              className=\"imgCircle\"\r\n                              alt=\"Profile picture\"\r\n                            />\r\n                          ) : (\r\n                            <img\r\n                              src=\"http://lorempixel.com/200/200/nature/\"\r\n                              className=\"imgCircle\"\r\n                              alt=\"Profile picture\"\r\n                            />\r\n                          )}\r\n\r\n                          <div className=\"\">\r\n                            <h4 className=\"text-right\">\r\n                              <span className=\"glyphicon glyphicon-edit\" /> Edit\r\n                              Profile\r\n                            </h4>\r\n                            <div className=\"image-upload\">\r\n                              <label htmlFor=\"file-input\">\r\n                                <i className=\"ion-android-camera icon upload-button\" />\r\n                              </label>\r\n                              <input\r\n                                id=\"file-input\"\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                ref=\"uploadImg\"\r\n                                onChange={this.onChange}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-lg-12 col-md-12\">\r\n                          <input\r\n                            type=\"text\"\r\n                            className=\"form-control form-input\"\r\n                            value={this.props.location.state[0].name}\r\n                            placeholder=\"Name\"\r\n                            disabled\r\n                            id=\"name\"\r\n                          />\r\n                          <span className=\"glyphicon glyphicon-user input-place\" />\r\n                        </div>\r\n                        <div className=\"col-lg-12 col-md-12\">\r\n                          <input\r\n                            type=\"text\"\r\n                            className=\"form-control form-input\"\r\n                            value={this.props.location.state[0].email}\r\n                            placeholder=\"Email ID\"\r\n                            disabled\r\n                            id=\"email\"\r\n                          />\r\n                          <span className=\"glyphicon glyphicon-envelope input-place\" />\r\n                        </div>\r\n                        <div className=\"col-lg-12 col-md-12\">\r\n                          <input\r\n                            type=\"text\"\r\n                            className=\"form-control form-input\"\r\n                            placeholder=\"Phone Number\"\r\n                            name=\"phone\"\r\n                            onChange={this.onChange}\r\n                            id=\"phone\"\r\n                          />\r\n                          <span className=\"glyphicon glyphicon-earphone input-place\" />\r\n                        </div>\r\n                        <div className=\"col-lg-12 col-md-12\">\r\n                          <input\r\n                            type=\"text\"\r\n                            className=\"form-control form-input\"\r\n                            placeholder=\"Address\"\r\n                            name=\"address\"\r\n                            onChange={this.onChange}\r\n                            id=\"place\"\r\n                          />\r\n                          <span className=\"glyphicon glyphicon-map-marker input-place\" />\r\n                        </div>\r\n                        <div className=\"col-lg-12 col-md-12 text-center\">\r\n                          <button\r\n                            className=\"btn btn-info btn-lg custom-btn\"\r\n                            id=\"submit\"\r\n                            onClick={this.onSave}\r\n                          >\r\n                            Save\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*  <div className=\"overlay\" />\r\n        {  <video\r\n          playsinline=\"playsinline\"\r\n          autoplay=\"autoplay\"\r\n          muted=\"muted\"\r\n          loop=\"loop\"\r\n        >\r\n          <source\r\n            src=\"https://storage.googleapis.com/coverr-main/mp4/Mt_Baker.mp4\"\r\n            type=\"video/mp4\"\r\n          />\r\n        </video> } */}\r\n        \r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}